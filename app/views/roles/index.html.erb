<div class="row">
  <div class="small-12 medium-9 large-8 columns small-centered">
    <h1>Listing roles</h1>

    <table>
      <thead>
      <tr>
        <th>Role Name</th>
        <th>Actions</th>
      </tr>
      </thead>

      <tbody>
      <% @roles.each do |role| %>
          <tr>
            <td><%= role.name %></td>
            <td>
              <%= link_to 'View', role %>
              <% if role.name != 'Admin' %>
                  &nbsp; &nbsp;
                  <%= link_to 'Edit', edit_role_path(role) %>
                  &nbsp; &nbsp;
                  <% @role_affects = role.users.size == 1 ? '1 user' : "#{role.users.size} users" %>
                  <%= link_to 'Destroy', role, method: :delete, data: {confirm: "Are you sure? This affects #{@role_affects}."} %>
              <% end %>
            </td>
          </tr>
      <% end %>
      </tbody>

    </table>

    <br>

    <%= button_to 'New Role', new_role_path, method: 'get', :class => 'button medium' %>
  </div>
</div>
